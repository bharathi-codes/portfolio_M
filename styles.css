/* ========================================
   3D SPATIAL SCROLL PORTFOLIO
   Bharathi B - Full Stack Developer
   ======================================== */

/* BASE RESET */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    block-size: 100%;
    color-scheme: dark;
    scroll-behavior: smooth;
}

body {
    min-block-size: 500vh;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
    background: #0a0a0a;
    color: #f5f5f7;
    overflow-x: hidden;
}

/* ZOOM IN ANIMATION */
@keyframes zoom-in {
    0% {
        transform: translateZ(-1500px);
        opacity: 0;
        filter: blur(10px);
    }
    50% {
        transform: translateZ(0px);
        opacity: 1;
        filter: blur(0px);
    }
    100% {
        transform: translateZ(1500px);
        opacity: 0;
        filter: blur(10px);
    }
}

/* SPATIAL SCROLL CONTAINER */
.spatial-scroll-container {
    block-size: 100svh;
    perspective: 1200px;
    transform-style: preserve-3d;
    
    display: grid;
    grid: repeat(4, 25dvh) / repeat(4, 25dvw);
    place-items: center;
    
    position: sticky;
    top: 0;
    
    overflow: clip;
    background: radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a0a 70%);
}

/* GRID ITEMS */
.grid-item {
    transform-style: preserve-3d;
    font-size: 4vmin;
    font-weight: 300;
    text-wrap: nowrap;
    color: #f5f5f7;
    text-align: center;
    padding: 1rem;
    
    @supports (animation-timeline: scroll()) {
        @media (prefers-reduced-motion: no-preference) {
            animation: zoom-in linear both;
            animation-timeline: scroll(root block);
            will-change: transform, opacity, filter;
        }
    }
}

/* SPECIAL ITEMS */
.grid-item.special {
    grid-row: 2 / span 2;
    grid-column: 2 / span 2;
    font-size: 8vmin;
    font-weight: 700;
    line-height: 1.2;
}

.grid-item.special b {
    font-size: 12vmin;
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: block;
    margin-bottom: 0.5rem;
}

.grid-item.special span {
    font-size: 5vmin;
    font-weight: 400;
    color: #a0a0a0;
}

/* HIGHLIGHT ITEMS */
.skill-highlight,
.project-highlight,
.education-highlight,
.contact-highlight {
    font-size: 6vmin !important;
    font-weight: 600 !important;
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* SOCIAL & CTA ITEMS */
.social-item a,
.cta-item a {
    color: #6366f1;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    padding: 0.5rem 1rem;
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: 8px;
    display: inline-block;
}

.social-item a:hover,
.cta-item a:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: #6366f1;
    transform: scale(1.05);
}

/* ANIMATION RANGES - STAGGERED TIMING */
.grid-item:nth-of-type(1)  { animation-range: -10% 30% }
.grid-item:nth-of-type(2)  { animation-range: 5% 15% }
.grid-item:nth-of-type(3)  { animation-range: 12% 22% }
.grid-item:nth-of-type(4)  { animation-range: 18% 28% }
.grid-item:nth-of-type(5)  { animation-range: 25% 35% }
.grid-item:nth-of-type(6)  { animation-range: 8% 18% }
.grid-item:nth-of-type(7)  { animation-range: 15% 25% }
.grid-item:nth-of-type(8)  { animation-range: 22% 32% }
.grid-item:nth-of-type(9)  { animation-range: 28% 38% }
.grid-item:nth-of-type(10) { animation-range: 30% 40% }
.grid-item:nth-of-type(11) { animation-range: 10% 20% }
.grid-item:nth-of-type(12) { animation-range: 17% 27% }
.grid-item:nth-of-type(13) { animation-range: 23% 33% }
.grid-item:nth-of-type(14) { animation-range: 32% 42% }
.grid-item:nth-of-type(15) { animation-range: 35% 45% }
.grid-item:nth-of-type(16) { animation-range: 12% 22% }
.grid-item:nth-of-type(17) { animation-range: 19% 29% }
.grid-item:nth-of-type(18) { animation-range: 26% 36% }
.grid-item:nth-of-type(19) { animation-range: 33% 43% }
.grid-item:nth-of-type(20) { animation-range: 38% 48% }
.grid-item:nth-of-type(21) { animation-range: 14% 24% }
.grid-item:nth-of-type(22) { animation-range: 21% 31% }
.grid-item:nth-of-type(23) { animation-range: 27% 37% }
.grid-item:nth-of-type(24) { animation-range: 36% 46% }
.grid-item:nth-of-type(25) { animation-range: 40% 50% }
.grid-item:nth-of-type(26) { animation-range: 16% 26% }
.grid-item:nth-of-type(27) { animation-range: 24% 34% }
.grid-item:nth-of-type(28) { animation-range: 29% 39% }
.grid-item:nth-of-type(29) { animation-range: 37% 47% }
.grid-item:nth-of-type(30) { animation-range: 43% 53% }
.grid-item:nth-of-type(31) { animation-range: 11% 21% }
.grid-item:nth-of-type(32) { animation-range: 20% 30% }
.grid-item:nth-of-type(33) { animation-range: 31% 41% }
.grid-item:nth-of-type(34) { animation-range: 39% 49% }
.grid-item:nth-of-type(35) { animation-range: 45% 55% }
.grid-item:nth-of-type(36) { animation-range: 13% 23% }
.grid-item:nth-of-type(37) { animation-range: 25% 35% }
.grid-item:nth-of-type(38) { animation-range: 34% 44% }
.grid-item:nth-of-type(39) { animation-range: 41% 51% }
.grid-item:nth-of-type(40) { animation-range: 48% 58% }
.grid-item:nth-of-type(41) { animation-range: 50% 60% }
.grid-item:nth-of-type(42) { animation-range: 52% 62% }
.grid-item:nth-of-type(43) { animation-range: 54% 64% }
.grid-item:nth-of-type(44) { animation-range: 56% 66% }

/* GRID POSITIONING WITH SCROLL SUPPORT */
@supports (animation-timeline: scroll()) {
    .grid-item:nth-of-type(1) { grid-area: 2/2 }
    .grid-item:nth-of-type(2) { grid-area: 1/1 }
    .grid-item:nth-of-type(3) { grid-area: 1/2 }
    .grid-item:nth-of-type(4) { grid-area: 1/3 }
    .grid-item:nth-of-type(5) { grid-area: 1/4 }
    .grid-item:nth-of-type(6) { grid-area: 2/1 }
    .grid-item:nth-of-type(7) { grid-area: 2/4 }
    .grid-item:nth-of-type(8) { grid-area: 3/1 }
    .grid-item:nth-of-type(9) { grid-area: 3/4 }
    .grid-item:nth-of-type(10) { grid-area: 4/1 }
    .grid-item:nth-of-type(11) { grid-area: 4/2 }
    .grid-item:nth-of-type(12) { grid-area: 4/3 }
    .grid-item:nth-of-type(13) { grid-area: 4/4 }
    .grid-item:nth-of-type(14) { grid-area: 3/2 }
    .grid-item:nth-of-type(15) { grid-area: 3/3 }
    .grid-item:nth-of-type(16) { grid-area: 1/1 }
    .grid-item:nth-of-type(17) { grid-area: 1/2 }
    .grid-item:nth-of-type(18) { grid-area: 1/3 }
    .grid-item:nth-of-type(19) { grid-area: 1/4 }
    .grid-item:nth-of-type(20) { grid-area: 2/1 }
    .grid-item:nth-of-type(21) { grid-area: 2/4 }
    .grid-item:nth-of-type(22) { grid-area: 3/1 }
    .grid-item:nth-of-type(23) { grid-area: 3/4 }
    .grid-item:nth-of-type(24) { grid-area: 4/1 }
    .grid-item:nth-of-type(25) { grid-area: 4/4 }
    .grid-item:nth-of-type(26) { grid-area: 3/2 }
    .grid-item:nth-of-type(27) { grid-area: 3/3 }
    .grid-item:nth-of-type(28) { grid-area: 4/2 }
    .grid-item:nth-of-type(29) { grid-area: 4/3 }
    .grid-item:nth-of-type(30) { grid-area: 2/2 }
    .grid-item:nth-of-type(31) { grid-area: 1/1 }
    .grid-item:nth-of-type(32) { grid-area: 1/2 }
    .grid-item:nth-of-type(33) { grid-area: 1/3 }
    .grid-item:nth-of-type(34) { grid-area: 1/4 }
    .grid-item:nth-of-type(35) { grid-area: 2/1 }
    .grid-item:nth-of-type(36) { grid-area: 2/4 }
    .grid-item:nth-of-type(37) { grid-area: 3/1 }
    .grid-item:nth-of-type(38) { grid-area: 3/4 }
    .grid-item:nth-of-type(39) { grid-area: 4/1 }
    .grid-item:nth-of-type(40) { grid-area: 4/4 }
    .grid-item:nth-of-type(41) { grid-area: 3/2 }
    .grid-item:nth-of-type(42) { grid-area: 3/3 }
    .grid-item:nth-of-type(43) { grid-area: 4/2 }
    .grid-item:nth-of-type(44) { grid-area: 4/3 }
}

/* RESPONSIVE - MOBILE */
@media (max-width: 768px) {
    .spatial-scroll-container {
        grid: repeat(6, 16.66dvh) / repeat(2, 50dvw);
        perspective: 800px;
    }
    
    .grid-item {
        font-size: 5vmin;
    }
    
    .grid-item.special {
        grid-row: 3 / span 2;
        grid-column: 1 / span 2;
    }
    
    .grid-item.special b {
        font-size: 10vmin;
    }
    
    .skill-highlight,
    .project-highlight,
    .education-highlight,
    .contact-highlight {
        font-size: 7vmin !important;
    }
}

/* FALLBACK FOR NO SCROLL-TIMELINE SUPPORT */
@supports not (animation-timeline: scroll()) {
    .grid-item {
        opacity: 1;
        transform: translateZ(0);
        filter: blur(0);
    }
    
    .spatial-scroll-container {
        display: flex;
        flex-wrap: wrap;
        gap: 2rem;
        padding: 4rem 2rem;
        min-height: 100vh;
        align-items: flex-start;
    }
    
    .grid-item {
        flex: 0 1 calc(25% - 2rem);
    }
}
